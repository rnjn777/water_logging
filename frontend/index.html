<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Waterlogging Monitoring System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  min-height: 100vh;
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  overflow-x: hidden;
  position: relative;
}

/* NAVBAR */
.navbar {
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(20px);
  padding: 20px 0;
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 100;
  border-bottom: 1px solid rgba(59, 130, 246, 0.2);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.nav-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 24px;
  font-weight: 800;
  color: white;
}

.logo-icon {
  font-size: 36px;
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.logo-text {
  background: linear-gradient(135deg, #ffffff, #60a5fa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.nav-links {
  display: flex;
  gap: 32px;
  align-items: center;
}

.nav-links a {
  color: #cbd5e1;
  text-decoration: none;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.3s ease;
  position: relative;
}

.nav-links a::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, #3b82f6, #06b6d4);
  transition: width 0.3s ease;
}

.nav-links a:hover {
  color: #ffffff;
}

.nav-links a:hover::after {
  width: 100%;
}

/* HERO SECTION */
.hero {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 120px 40px 60px;
  position: relative;
  z-index: 1;
}

.hero-content {
  max-width: 1200px;
  text-align: center;
}

.hero-badge {
  display: inline-block;
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.3);
  padding: 8px 20px;
  border-radius: 50px;
  color: #60a5fa;
  font-weight: 600;
  font-size: 13px;
  margin-bottom: 24px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.hero h1 {
  font-size: 64px;
  font-weight: 900;
  color: white;
  margin-bottom: 24px;
  line-height: 1.2;
  letter-spacing: -2px;
}

.hero h1 .gradient-text {
  background: linear-gradient(135deg, #3b82f6, #06b6d4, #10b981);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient-shift 3s ease infinite;
  background-size: 200% 200%;
}

@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.hero-description {
  font-size: 20px;
  color: #cbd5e1;
  margin-bottom: 48px;
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

/* FEATURE CARDS */
.features {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  margin-bottom: 60px;
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
}

.feature-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 32px 24px;
  border-radius: 16px;
  transition: all 0.3s ease;
  text-align: center;
}

.feature-card:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(59, 130, 246, 0.4);
  transform: translateY(-8px);
  box-shadow: 0 12px 40px rgba(59, 130, 246, 0.2);
}

.feature-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.feature-title {
  font-size: 18px;
  font-weight: 700;
  color: white;
  margin-bottom: 8px;
}

.feature-desc {
  font-size: 14px;
  color: #94a3b8;
  line-height: 1.5;
}

/* LOGIN BUTTONS */
.login-section {
  display: flex;
  gap: 24px;
  justify-content: center;
  align-items: center;
}

.login-btn {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 18px 36px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 700;
  text-decoration: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  cursor: pointer;
}

.login-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.login-btn:hover::before {
  width: 400px;
  height: 400px;
}

.user-login {
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: white;
  border: none;
  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
}

.user-login:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(59, 130, 246, 0.6);
}

.admin-login {
  background: linear-gradient(135deg, #dc2626, #ef4444);
  color: white;
  border: none;
  box-shadow: 0 8px 24px rgba(220, 38, 38, 0.4);
}

.admin-login:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(220, 38, 38, 0.6);
}

.guest-login {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  border: none;
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.35);
}

.guest-login:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(16, 185, 129, 0.55);
}

.btn-icon {
  font-size: 24px;
}
.login-popup {
  display: none;              /* üî¥ REQUIRED */
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.login-box {
  background: #0b1630;
  padding: 30px;
  border-radius: 14px;
  width: 350px;
}

/* STATS SECTION */
.stats-section {
  padding: 80px 40px;

  background: rgba(64, 132, 192, 0.3);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  border-top: none;
  border-bottom: none;
}


.stats-container {
  max-width: 1000px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 40px;
  text-align: center;
}

.stat-item {
  padding: 20px;
}

.stat-number {
  font-size: 48px;
  font-weight: 900;
  background: linear-gradient(135deg, #3b82f6, #06b6d4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.stat-label {
  font-size: 14px;
  color: #94a3b8;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* FOOTER */
.footer {
  padding: 40px 40px 30px;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(20px);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
  color: #94a3b8;
  position: relative;
  z-index: 2;
  overflow: hidden;
}

.footer-content {
  max-width: 1200px;
  margin: 0 auto;
}

.footer-links {
  display: flex;
  gap: 32px;
  justify-content: center;
  margin-bottom: 20px;
}

.footer-links a {
  color: #cbd5e1;
  text-decoration: none;
  font-weight: 500;
  font-size: 14px;
  transition: color 0.3s ease;
}

.footer-links a:hover {
  color: #60a5fa;
}

.copyright {
  font-size: 13px;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .hero h1 {
    font-size: 40px;
  }
 
  .features {
    grid-template-columns: 1fr;
  }
 
  .stats-container {
    grid-template-columns: repeat(2, 1fr);
  }
 
  .login-section {
    flex-direction: column;
  }
 
  .nav-links {
    display: none;
  }
}
/* LOGIN POPUP */
.login-popup {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.6);
  z-index: 9999;
}



.login-box {
  background: #0f172a;
  padding: 30px;
  width: 320px;
  border-radius: 12px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  text-align: center;
}

.login-box h2 {
  color: white;
  margin-bottom: 20px;
}

.login-box input {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 8px;
  border: none;
  outline: none;
}

.primary-btn {
  width: 100%;
  padding: 12px;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}

.primary-btn:hover {
  opacity: 0.9;
}

.cancel-btn {
  margin-top: 10px;
  background: none;
  border: none;
  color: #94a3b8;
  cursor: pointer;
}

.register-text {
  margin-top: 12px;
  font-size: 14px;
  color: #94a3b8;
}

.register-text span {
  color: #60a5fa;
  cursor: pointer;
  font-weight: 600;
}
/* =========================
   HERO VIDEO (TOMORROW.IO STYLE)
========================= */

.hero-video {
  position: relative;
  height: 100vh;
  width: 100%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hero-bg-video {
  position: absolute;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  transform: translate(-50%, -50%);
  object-fit: cover;
  z-index: 0;
}

.hero-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.25); /* much lighter */
  background: linear-gradient(
    to top,
    rgba(50, 51, 52, 0.9) 0%,   /* Strong blue at the very bottom */
    rgba(0, 0, 0, 0.5) 10%,   /* Starts fading quickly */
    rgba(92, 179, 255, 0) 25%      /* Completely transparent by 25% up */
  );
  z-index: 1;
}


.hero-video-content {
  position: relative;
  z-index: 2;
  max-width: 1100px;
  padding: 0 40px;
  text-align: center;
}

.hero-video-content h1 {
  font-size: 64px;
  font-weight: 900;
  color: #ffffff;
  line-height: 1.15;
  letter-spacing: -1.5px;
  margin-bottom: 24px;
}

.hero-video-content p {
  font-size: 20px;
  color: #cbd5e1;
  max-width: 720px;
  margin: 0 auto 48px;
  line-height: 1.6;
}

/* CTA spacing */
.hero-cta {
  margin-top: 20px;
}

/* Responsive */
@media (max-width: 768px) {
  .hero-video-content h1 {
    font-size: 40px;
  }

  .hero-video-content p {
    font-size: 16px;
  }
}

/* =========================
   FEATURE TABS SECTION
========================= */
/* SVG lines */
.connector-svg {
  width: 100%;
  height: 160px;
  
  /* CHANGED: Removed bottom margin so lines touch the boxes */
  margin-bottom: -5px; 
  
  /* Optional: explicit z-index to make sure lines don't get hidden */
  position: relative;
  z-index: 10;
}

.connector-line {
  fill: none;
  stroke: rgba(255,255,255,0.75);
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round; 
}
/* Connector line animation */

.features-section {
  padding: 100px 40px;
  
  /* üñºÔ∏è REPLACE THE URL BELOW WITH YOUR IMAGE LINK */
  background: 
    linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 26, 63, 0)),
    linear-gradient(to top,
    rgba(64, 132, 192, 0.5),rgb(0, 0, 0)), /* Dark overlay */
    url('https://ibb.co/spbqJNhc'); 
    
  background-size: cover;
  background-position: center;

  
  text-align: center;
  position: relative;
  overflow: hidden; 
}

.features-section h2 {
  font-size: 38px;
  font-weight: 800;
  color: #fff;
  margin-bottom: 50px;
}

.features-tabs {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  max-width: 1100px;
  margin: 0 auto;
}

.feature {
  background: rgba(255,255,255,0.18);
  border: 1px solid rgba(255,255,255,0.3);
  padding: 26px;
  border-radius: 18px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(12px);
}

.feature i {
  font-size: 28px;
  margin-bottom: 10px;
  display: block;
  color: #e0f2fe;
}

.feature span {
  font-weight: 700;
  font-size: 15px;
}

.feature:hover {
  transform: translateY(-6px);
  background: rgba(92,179,255,0.9);
}

.feature.active {
  background: linear-gradient(135deg, #2563eb, #1e40af);
  box-shadow: 0 20px 45px rgba(37,99,235,0.5);
  transform: translateY(-8px) scale(1.05);
}

.feature-description {
  max-width: 900px;
  margin: 50px auto 0;
  font-size: 18px;
  line-height: 1.7;
  color: #f8fafc;
  transition: opacity 0.25s ease, transform 0.25s ease;
}

.feature-description.fade {
  opacity: 0;
  transform: translateY(8px);
}

@media (max-width: 768px) {
  .features-tabs {
    grid-template-columns: 1fr;
  }
}

.feature-card p {
  color: rgba(255, 255, 255, 0.85);
}

/* Merged this into .feature-card to fix the error */
.feature-card {
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: transform 0.3s ease;
}

.features-section h2 {
  /* 1. BIGGER & MORE VISIBLE */
  font-size: 64px;          
  font-weight: 900;
  color: #ffffff;
  
  /* 2. BETTER CONTRAST AGAINST IMAGE */
  text-shadow: 0 5px 15px rgba(0, 0, 0, 0.9); 
  letter-spacing: -1.5px;

  /* 3. PUSHES THE LINES LOWER */
  margin-bottom: 80px;      
}


.feature-card p {
  color: rgba(255, 255, 255, 0.85);

  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-6px);
}


/* Slight inner glow for premium feel */
.features-section::after {
  content: "";
  position: absolute;
  inset: -40%;
  background:
    radial-gradient(circle at 30% 40%, rgba(255,255,255,0.08), transparent 40%),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,0.06), transparent 45%);
  animation: rippleMove 18s ease-in-out infinite;
  pointer-events: none;
  z-index: 0;
}

@keyframes rippleMove {
  0%   { transform: translate(0, 0); }
  50%  { transform: translate(-60px, -40px); }
  100% { transform: translate(0, 0); }
}
.features-section > * {
  position: relative;
  z-index: 1;
}

</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="nav-container">
    <div class="logo">
      <span class="logo-icon">üåß</span>
      <span class="logo-text">AquaWatch</span>
    </div>
    <div class="nav-links">
      <a href="#features">Features</a>
      <a href="#about">About</a>
      <a href="#stats">Statistics</a>
      <a href="#contact">Contact</a>
      <a href="guest_map.html">Guest Mode</a>
    </div>
  </div>
</nav>

<!-- HERO SECTION -->
<!-- HERO WITH VIDEO BACKGROUND -->
<section class="hero-video">

  <!-- Background Video -->
  <video class="hero-bg-video" autoplay muted loop playsinline>
    <!-- You can replace this with your own flood / rain video -->
    <source src="https://res.cloudinary.com/dhhzi7ias/video/upload/v1767983735/bluevideo_zullok.mp4" type="video/mp4">
  </video>

  <!-- Dark Overlay -->
  <div class="hero-overlay"></div>

  <!-- Hero Content -->
  <div class="hero-video-content">

    <h1>
      Delhi Waterlogging<br>
      Monitoring & Hotspot Detection
    </h1>

    <p>
      Real-time urban flood intelligence to detect critical waterlogging zones
      and support faster municipal response.
    </p>

    <!-- CTA BUTTONS (REDIRECTS UNCHANGED) -->
    <div class="login-section hero-cta">

      <button class="login-btn user-login" onclick="openUserLogin()">
        <span class="btn-icon">üö©</span>
        <span>Report Waterlogging</span>
      </button>

      <button class="login-btn guest-login" onclick="window.location.href='guest_map.html'">
        <span class="btn-icon">üó∫Ô∏è</span>
        <span>View Live Map</span>
      </button>

      <button class="login-btn admin-login" onclick="openAdminLogin()">
        <span class="btn-icon">üìä</span>
        <span>Authority Dashboard</span>
      </button>

    </div>

  </div>
</section>

<!-- FEATURES INTERACTIVE SECTION -->
<section class="features-section" id="features">
  <h2>Core Platform Features</h2>
  <!-- CONNECTOR BRANCHES -->
  <svg class="connector-svg" viewBox="0 0 1000 160" preserveAspectRatio="none">
    
    <path d="M500 0 L500 20 Q500 40 480 40 L145 40 Q125 40 125 60 L125 160" 
          class="connector-line"/>
    
    <path d="M500 0 L500 20 Q500 40 480 40 L395 40 Q375 40 375 60 L375 160" 
          class="connector-line"/>
    
    <path d="M500 0 L500 20 Q500 40 520 40 L605 40 Q625 40 625 60 L625 160" 
          class="connector-line"/>
    
    <path d="M500 0 L500 20 Q500 40 520 40 L855 40 Q875 40 875 60 L875 160" 
          class="connector-line"/>
          
  </svg>
  <div class="features-tabs">
    <button class="feature active" onclick="showFeature(0)">
      <i class="fa-solid fa-user-pen"></i>
      <span>User Reporting</span>
    </button>

    <button class="feature" onclick="showFeature(1)">
      <i class="fa-solid fa-map-location-dot"></i>
      <span>Flood Heatmap</span>
    </button>

    <button class="feature" onclick="showFeature(2)">
      <i class="fa-solid fa-triangle-exclamation"></i>
      <span>Risk Analysis</span>
    </button>

    <button class="feature" onclick="showFeature(3)">
      <i class="fa-solid fa-certificate"></i>
      <span>Verified Data</span>
    </button>
  </div>

  <div class="feature-description" id="featureDesc">
    Citizens can report waterlogging incidents with images and live GPS location.
  </div>
</section>

<!-- STATS SECTION -->
<section class="stats-section" id="stats">
  <div class="stats-container">
    <div class="stat-item">
      <div class="stat-number">247</div>
      <div class="stat-label">Monitored Areas</div>
    </div>
   
    <div class="stat-item">
      <div class="stat-number">1.2K</div>
      <div class="stat-label">Active Reports</div>
    </div>
   
    <div class="stat-item">
      <div class="stat-number">98%</div>
      <div class="stat-label">Accuracy Rate</div>
    </div>
   
    <div class="stat-item">
      <div class="stat-number">24/7</div>
      <div class="stat-label">Monitoring</div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-links">
      <a href="#privacy">Privacy Policy</a>
      <a href="#terms">Terms of Service</a>
      <a href="#api">API Documentation</a>
      <a href="#support">Support</a>
    </div>
   
    <div class="copyright">
      ¬© 2024 AquaWatch - Waterlogging Monitoring System. All rights reserved.
    </div>
  </div>
</footer>

<!-- USER LOGIN POPUP -->
<div id="userLoginPopup" class="login-popup">
  <div class="login-box">
    <h2>User Login</h2>
    
    <input id="loginEmail" type="email" placeholder="Email" />
    <input id="loginPassword" type="password" placeholder="Password" />

    <button class="primary-btn" onclick="loginUser('USER')">Login</button>

    <p class="register-text">
      New user? <span onclick="openRegister()">Register here</span>
    </p>

    <button class="cancel-btn" onclick="closeUserLogin()">Cancel</button>
  </div>
</div>



<!-- REGISTER POPUP -->
<div id="registerPopup" class="login-popup">
  <div class="login-box">
    <h2>Register</h2>

    <input id="regEmail" type="email" placeholder="Email" />
    <input id="regPassword" type="password" placeholder="Password" />
    <input id="regName" type="text" placeholder="Full Name" />
    <button class="primary-btn" onclick="registerUser()">Register</button>
    <button class="cancel-btn" onclick="closeRegister()">Cancel</button>
  </div>
</div>

<!-- ADMIN LOGIN POPUP -->
<div id="adminLoginPopup" class="login-popup">
  <div class="login-box">
    <h2>Admin Login</h2>

    <input id="adminEmail" type="email" placeholder="Admin Email" />
    <input id="adminPassword" type="password" placeholder="Password" />
    
    <button class="primary-btn" onclick="loginAdmin()">Login</button>
    <button class="cancel-btn" onclick="closeAdminLogin()">Cancel</button>
  </div>
</div>


<script>
const API_BASE_URL = "https://water-logging.onrender.com";
/* ---------- POPUP CONTROL ---------- */
function openUserLogin() {
  document.getElementById("userLoginPopup").style.display = "flex";
}

function closeUserLogin() {
  document.getElementById("userLoginPopup").style.display = "none";
}

function openRegister() {
  closeUserLogin();
  document.getElementById("registerPopup").style.display = "flex";
}

function closeRegister() {
  document.getElementById("registerPopup").style.display = "none";
}

function openAdminLogin() {
  console.log("ADMIN BUTTON CLICKED");
  document.getElementById("adminLoginPopup").style.display = "flex";
}


function closeAdminLogin() {
  document.getElementById("adminLoginPopup").style.display = "none";
}
/* ---------- LOGIN ---------- */
async function loginUser(role) {
  const email = document.getElementById("loginEmail").value;
  const password = document.getElementById("loginPassword").value;

  if (!email || !password) {
    alert("Please enter email and password");
    return;
  }

  const res = await fetch(`${API_BASE_URL}/api/auth/login`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, password, role })
  });

  const data = await res.json();

  if (!res.ok) {
    alert(data.message || "Login failed");
    return;
  }

  // ‚úÖ STORE JWT TOKEN HERE
  localStorage.setItem("token", data.token);

  alert("Login successful");
  window.location.href = "map.html";
}

/* ---------- REGISTER ---------- */
async function registerUser() {
  const name = document.getElementById("regName").value;
  const email = document.getElementById("regEmail").value;
  const password = document.getElementById("regPassword").value;

  if (!name || !email || !password) {
    alert("Please fill all fields");
    return;
  }

const res = await fetch(`${API_BASE_URL}/api/auth/register`, {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    name,
    email,
    password,
    role: "USER"
  })
});


  const data = await res.json();

  if (!res.ok) {
    alert(data.message || "Registration failed");
    return;
  }

  alert("Registered successfully");
  window.location.href = "map.html";
}
async function loginAdmin() {
  const email = document.getElementById("adminEmail").value;
  const password = document.getElementById("adminPassword").value;

  const res = await fetch(`${API_BASE_URL}/api/auth/login`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, password, role: "ADMIN" })
  });

  const data = await res.json();

  if (!res.ok) {
    alert(data.message || "Admin login failed");
    return;
  }

  // store admin token and redirect
  localStorage.setItem("token", data.token);
  alert("Admin login successful");
  window.location.href = "admin.html";
}

</script>
<script>
const descriptions = [
  "Citizens can actively report waterlogging by uploading photos, live GPS location, and brief descriptions. This crowdsourced intelligence enables faster emergency response.",

  "Dynamic flood heatmaps visualize live and historical waterlogging data to identify critical hotspots and support traffic and disaster planning.",

  "AI-driven risk analysis predicts flood severity by combining rainfall forecasts, drainage capacity, and past flood patterns.",

  "All reported data is verified using trusted sensors, meteorological sources, and municipal validation for decision-grade accuracy."
];

function showFeature(index) {
  const desc = document.getElementById("featureDesc");
  const features = document.querySelectorAll(".feature");

  desc.classList.add("fade");

  setTimeout(() => {
    desc.textContent = descriptions[index];
    desc.classList.remove("fade");
  }, 200);

  features.forEach(f => f.classList.remove("active"));
  features[index].classList.add("active");
}
</script>

</body>

</html>